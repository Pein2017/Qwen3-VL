extends: ./sft_base.yaml



training:
  # Override per experiment; baseline single-target values provided here.
  output_dir: ./output/1-4/2048_res_dense
  run_name: epoch_40-lrs_2_1_6
  num_train_epochs: 40
  per_device_train_batch_size: 1
  per_device_eval_batch_size: 2
  effective_batch_size: 32
  learning_rate: 2.0e-4
  vit_lr: 1.0e-4
  aligner_lr: 6.0e-4
  warmup_ratio: 0.1
  max_grad_norm: 0.5
  weight_decay: 0.0
  save_steps: 80
  save_total_limit: 3
  save_last_epoch: true
  save_only_model: true
  metric_for_best_model: eval_token_acc
  greater_is_better: true
  save_delay_steps: 1800
  logging_dir: ./tb/1-4/2048_res_dense
  logging_first_step: true


prompts:
  profile: summary_runtime
  domain: bbu

custom:
  fusion_config: configs/dataset_mix/bbu_rru_dense_new_schema_2048.yaml
  use_summary: false
  assistant_prefix_format: "<DOMAIN={domain}>, <TASK={task}>"
