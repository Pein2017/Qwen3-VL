custom:
  # Summary-mode labels are precomputed JSON strings in the JSONL.
  # Avoid any augmentation that can change which objects are visible.
  augmentation:
    enabled: true
    # Keep a high fraction of clean samples for OCR stability (站点距离 / 标签文本).
    bypass_prob: 0.40
    ops:
      # Mild multi-scale (no cropping): simulates different capture resolutions.
      - name: resize_by_scale
        params: { lo: 0.95, hi: 1.05, align_multiple: 32, prob: 0.25 }
      # Conservative photometric jitter for illumination/white-balance robustness.
      - name: color_jitter
        params: { brightness: [0.92, 1.08], contrast: [0.92, 1.08], saturation: [0.92, 1.08], prob: 0.25 }
      - name: gamma
        params: { gamma: [0.95, 1.05], prob: 0.12 }
      - name: hsv
        params: { hue_delta_deg: [-4, 4], sat: [0.95, 1.05], val: [0.95, 1.05], prob: 0.12 }
      - name: clahe
        params: { clip_limit: 1.5, tile_grid_size: [8, 8], prob: 0.05 }
      - name: auto_contrast
        params: { cutoff: 0, prob: 0.04 }
      - name: sharpness
        params: { factor: [0.95, 1.08], prob: 0.10 }

  # Disable inherited dense-mode curriculum (it references crop/patch ops).
  augmentation_curriculum: null
