rlhf:
  rlhf_type: grpo
  reward_funcs: [dense.format, dense.parse_schema_strict, dense.loc_mean_fbeta, dense.loc_soft_recall, dense.cat_mean_f1, dense.attr_weighted_recall, summary.format, summary.header, summary.strict, summary.parse, summary.no_dup_keys, summary.dataset, summary.category_recall, summary.content_structured_tversky, summary.text_bbu, summary.notes_bbu, summary.group_stats_presence]
  reward_weights: [0.1, 0.2, 1.0, 0.5, 0.3, 0.2, 1.0, 2.0, 2.0, 1.5, 2.0, 0.5, 0.5, 1.8, 0.8, 0.3, 0.2]
  # Make core GRPO knobs explicit (avoid relying on library defaults).
  beta: 0.04
  advantage_estimator: reinforce_plus_plus
  scale_rewards: batch
  kl_in_reward: true
  num_generations: 4
  temperature: 0.7
  repetition_penalty: 1.05
  max_completion_length: 4096  # -> 3072
  truncation_strategy: delete
  generation_batch_size: 24
  dynamic_sample: true
  max_resample_times: 1

  # vLLM Configuration - Colocate Mode (internal vLLM)
  use_vllm: true
  vllm_mode: colocate
  vllm_gpu_memory_utilization: 0.53
  vllm_enable_prefix_caching: true
  vllm_enable_lora: false
