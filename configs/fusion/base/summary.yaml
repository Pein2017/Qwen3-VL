targets:
  - name: bbu_summary
    dataset: bbu
    train_jsonl: data_new_schema_center/bbu_full_1024/train.jsonl
    val_jsonl: data_new_schema_center/bbu_full_1024/val.jsonl
    template: summary_bbu
    mode: summary
    ratio: 1.0
  - name: rru_summary
    dataset: rru
    train_jsonl: data_new_schema_center/rru_full_1024/train.jsonl
    val_jsonl: data_new_schema_center/rru_full_1024/val.jsonl
    template: summary_rru
    mode: summary
    ratio: 1.0
  - name: irrelevant_summary
    dataset: bbu
    train_jsonl: data/irrelevant_summary/train.jsonl
    val_jsonl: data/irrelevant_summary/train.jsonl
    template: summary_bbu
    mode: summary
    ratio: 1.0
    augmentation_enabled: true
    curriculum_enabled: false

sources:
  # Small regularization mix from dense BBU/RRU and LVIS detection.
  - name: bbu_dense
    dataset: bbu
    train_jsonl: data_new_schema_center/bbu_full_1024/train.jsonl
    ratio: 0.1
    template: target_dense_bbu
    mode: dense
    sample_without_replacement: true
    augmentation_enabled: true
    curriculum_enabled: false

  - name: rru_dense
    dataset: rru
    train_jsonl: data_new_schema_center/rru_full_1024/train.jsonl
    ratio: 0.1
    template: target_dense_rru
    mode: dense
    sample_without_replacement: true
    augmentation_enabled: true
    curriculum_enabled: false

  - name: lvis
    dataset: lvis
    train_jsonl: public_data/lvis/rescale_32_768_poly_max_12/train.jsonl
    ratio: 0.1
    template: source_dense
    mode: dense
    sample_without_replacement: true
    max_objects_per_image: 20
    augmentation_enabled: false
    curriculum_enabled: false

  - name: lang_chat
    dataset: chat
    train_jsonl: public_data/coig_cqia/coig_cqia_merged.jsonl
    ratio: 0.1
    template: chatml
    mode: dense
    sample_without_replacement: true
    augmentation_enabled: false
    curriculum_enabled: false
